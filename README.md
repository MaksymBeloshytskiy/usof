# –í—ñ—Ç–∞—é! üëã

–¶–µ–π –ø—Ä–æ—î–∫—Ç —Å—Ç–≤–æ—Ä–µ–Ω–∏–π –∑ —É—Ä–∞—Ö—É–≤–∞–Ω–Ω—è–º –≤—Å—ñ—Ö –Ω–µ–æ–±—Ö—ñ–¥–Ω–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏—Ö –≤–∏–º–æ–≥ –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –±–µ–∫–µ–Ω–¥-—Ñ—É–Ω–∫—Ü—ñ–π. –î–ª—è –∑—Ä—É—á–Ω–æ—Å—Ç—ñ, –æ—Å–Ω–æ–≤–Ω—ñ –º–∞—Ä—à—Ä—É—Ç–∏ —Ç–∞ –ª–æ–≥—ñ–∫–∞ —Ä–æ–±–æ—Ç–∏ –∑—ñ–±—Ä–∞–Ω—ñ –≤ –æ–∫—Ä–µ–º–∏—Ö —Ñ–∞–π–ª–∞—Ö, —â–æ —Å–ø—Ä–æ—â—É—î –ø–µ—Ä–µ–≤—ñ—Ä–∫—É —Ç–∞ —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è –ø—Ä–æ—î–∫—Ç—É.

## –í–∏–º–æ–≥–∏ –¥–ª—è –∑–∞–ø—É—Å–∫—É –ø—Ä–æ—î–∫—Ç—É

### –ó–∞–≥–∞–ª—å–Ω—ñ –∫–æ–º–∞–Ω–¥–∏

- **npm install** ‚Äî –¥–ª—è –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –≤—Å—ñ—Ö –Ω–µ–æ–±—Ö—ñ–¥–Ω–∏—Ö –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π.
  - –Ø–∫—â–æ –¥–µ—è–∫—ñ –º–æ–¥—É–ª—ñ –Ω–µ —ñ–Ω—Å—Ç–∞–ª—é—é—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ, –≤–∏ –∑–º–æ–∂–µ—Ç–µ –∑–Ω–∞–π—Ç–∏ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –≤ —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç—ñ.

- **SOURCE ./usof_db_schema.sql** - –¥–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
  - –£ –ø—Ä–æ—î–∫—Ç—ñ –∑–∞—Å—Ç–æ—Å–æ–≤–∞–Ω–æ TypeORM, —Ç–æ–º—É –≤—Å—ñ —Å—É—Ç–Ω–æ—Å—Ç—ñ —Å—Ç–≤–æ—Ä—è—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —è–∫ —Ç—ñ–ª—å–∫–∏ –ø—Ä–æ—î–∫—Ç –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç—å—Å—è.

### –î–ª—è Linux

- **sudo apt install redis-server** ‚Äî —É—Å—Ç–∞–Ω–æ–≤–∫–∞ Redis –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ –ø—Ä–∏ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó.
- **sudo systemctl start redis-server** ‚Äî –∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞ Redis.

### –î–ª—è macOS

- **brew install redis**
- **brew services start redis**

### –ó–∞–ø—É—Å–∫ –ø—Ä–æ—î–∫—Ç—É

- –ó–∞–ø—É—Å—Ç—ñ—Ç—å –ø—Ä–æ–≥—Ä–∞–º—É –∫–æ–º–∞–Ω–¥–æ—é:  

  ```bash
  npm start
  ```

- –î–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –≤–∏–∫–æ–Ω–∞–π—Ç–µ –∫–æ–º–∞–Ω–¥—É:

  ```bash
  npm run seed
  ```

> –ó–∞ –±–∞–∂–∞–Ω–Ω—è–º, –º–æ–∂–Ω–∞ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ —Å–∞–º–æ—Å—Ç—ñ–π–Ω–æ —á–µ—Ä–µ–∑ –±–∞–∑—É –¥–∞–Ω–∏—Ö.

## –û–≥–ª—è–¥ API –º–∞—Ä—à—Ä—É—Ç—ñ–≤

–ü—Ä–æ—î–∫—Ç –º—ñ—Å—Ç–∏—Ç—å 5 –æ—Å–Ω–æ–≤–Ω–∏—Ö –º–∞—Ä—à—Ä—É—Ç—ñ–≤ –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ —Ä—ñ–∑–Ω–∏–º–∏ —Ä–µ—Å—É—Ä—Å–∞–º–∏:

### userRoutes

1. **POST /register** ‚Äî —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –∑ –≤–∞–ª—ñ–¥–∞—Ü—ñ—î—é.
2. **POST /login** ‚Äî –≤—Ö—ñ–¥ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞.
3. **POST /logout** ‚Äî –≤–∏—Ö—ñ–¥ –∑ –ø—Ä–æ—Ñ—ñ–ª—é.
4. **GET /verify-email** ‚Äî –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è email.
5. **POST /password-reset-request** ‚Äî –∑–∞–ø–∏—Ç –Ω–∞ –∑–º—ñ–Ω—É –ø–∞—Ä–æ–ª—è.
6. **POST /password-reset** ‚Äî –∑–º—ñ–Ω–∞ –ø–∞—Ä–æ–ª—è.
7. **GET /find-user-by-email** ‚Äî –ø–æ—à—É–∫ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –∑–∞ email.
8. **GET /find-user-by-id** ‚Äî –ø–æ—à—É–∫ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –∑–∞ ID.
9. **GET /find-user-by-username** ‚Äî –ø–æ—à—É–∫ –∑–∞ —ñ–º–µ–Ω–µ–º.
10. **GET /** ‚Äî –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —Å–ø–∏—Å–∫—É –≤—Å—ñ—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ (–∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∏).
11. **POST /:userId** ‚Äî –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ (–∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∏ –∞–±–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á).
12. **DELETE /:userId** - –≤–∏–¥–∞–ª–µ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ (–∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä –∞–±–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á).

### categoryRoutes

1. **POST / (admin)** ‚Äî —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó.
2. **GET /** ‚Äî –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –≤—Å—ñ—Ö –∫–∞—Ç–µ–≥–æ—Ä—ñ–π.
3. **GET /:categoryId** ‚Äî –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó –∑–∞ ID.
4. **GET /:categoryTitle** ‚Äî –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó –∑–∞ –Ω–∞–∑–≤–æ—é.
5. **PUT /:categoryId (admin)** ‚Äî –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó.
6. **DELETE /:categoryId (admin)** ‚Äî –≤–∏–¥–∞–ª–µ–Ω–Ω—è –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó.

### postRoutes

1. **GET /paginated** ‚Äî –ø–∞–≥—ñ–Ω–∞—Ü—ñ—è –ø–æ—Å—Ç—ñ–≤.
2. **POST /create** ‚Äî —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–æ—Å—Ç–∞.
3. **GET /my-posts** ‚Äî –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –ø–æ—Å—Ç—ñ–≤ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞.
4. **DELETE /delete/:postId** ‚Äî –≤–∏–¥–∞–ª–µ–Ω–Ω—è –ø–æ—Å—Ç–∞.
5. **PUT /update/:postId** ‚Äî –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –ø–æ—Å—Ç–∞ (–∞–≤—Ç–æ—Ä –∞–±–æ –∞–¥–º—ñ–Ω).
6. **GET /:postId** ‚Äî –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –ø–æ—Å—Ç–∞ –∑–∞ ID.
7. **GET /** ‚Äî –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –≤—Å—ñ—Ö –ø–æ—Å—Ç—ñ–≤.

### commentRoutes

1. **GET /** ‚Äî –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –≤—Å—ñ—Ö –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ–≤.
2. **GET /post/:postId** ‚Äî –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ –¥–æ –ø–µ–≤–Ω–æ–≥–æ –ø–æ—Å—Ç–∞.
3. **GET /:commentId/replies** ‚Äî –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –Ω–∞ –∫–æ–º–µ–Ω—Ç–∞—Ä.
4. **GET /:commentId** ‚Äî –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –∫–æ–º–µ–Ω—Ç–∞—Ä—è –∑–∞ ID.
5. **POST /** ‚Äî —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–æ–º–µ–Ω—Ç–∞—Ä—è.
6. **PUT /:commentId** ‚Äî –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –∫–æ–º–µ–Ω—Ç–∞—Ä—è (–∞–≤—Ç–æ—Ä –∞–±–æ –∞–¥–º—ñ–Ω).
7. **DELETE /:commentId** ‚Äî –≤–∏–¥–∞–ª–µ–Ω–Ω—è –∫–æ–º–µ–Ω—Ç–∞—Ä—è.

### likeRoutes

1. **GET /post/:postId/check** ‚Äî –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞, —á–∏ –ø–æ—Å—Ç–∞–≤–∏–≤ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –ª–∞–π–∫.
2. **GET /comment/:commentId/check** ‚Äî –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ª–∞–π–∫–∞ –Ω–∞ –∫–æ–º–µ–Ω—Ç–∞—Ä.
3. **POST /post/:postId** ‚Äî –ª–∞–π–∫ –∞–±–æ –¥–∏–∑–ª–∞–π–∫ –¥–ª—è –ø–æ—Å—Ç–∞.
4. **POST /comment/:commentId** ‚Äî –ª–∞–π–∫ –∞–±–æ –¥–∏–∑–ª–∞–π–∫ –¥–ª—è –∫–æ–º–µ–Ω—Ç–∞—Ä—è.
5. **GET /post/:postId/count** ‚Äî –∫—ñ–ª—å–∫—ñ—Å—Ç—å –ª–∞–π–∫—ñ–≤ –¥–ª—è –ø–æ—Å—Ç–∞.
6. **GET /comment/:commentId/count** ‚Äî –∫—ñ–ª—å–∫—ñ—Å—Ç—å –ª–∞–π–∫—ñ–≤ –¥–ª—è –∫–æ–º–µ–Ω—Ç–∞—Ä—è.

### –ü–æ—è—Å–Ω–µ–Ω–Ω—è —â–æ–¥–æ auth

–Ø–∫ –∞–≤—Ç–æ—Ä, —è –Ω–µ –±–∞—á–∏–≤ –¥–æ—Ü—ñ–ª—å–Ω–æ—Å—Ç—ñ –æ–∫—Ä–µ–º–æ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –º–∞—Ä—à—Ä—É—Ç–∏ –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó, –æ—Å–∫—ñ–ª—å–∫–∏ —Ü—é —Ä–æ–±–æ—Ç—É –ø—Ä–µ–∫—Ä–∞—Å–Ω–æ –≤–∏–∫–æ–Ω—É—é—Ç—å Middleware.
–í–æ–Ω–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è –ª–∏—à–µ —Ç–∞–º, –¥–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ —ñ –ø—Ä–∏ –≤–∏–∫–ª–∏–∫—É –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ–≥–æ –º–∞—Ä—à—Ä—É—Ç—É. –¢–∞ –π —Å–∞–º–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è —Ü–µ –±—ñ–ª—å—à–µ –ø—Ä–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞.

## –î–æ–¥–∞—Ç–∫–æ–≤—ñ —Ñ—ñ—á—ñ –ø—Ä–æ—î–∫—Ç—É

–í –º–æ—î–º—É –≤–∏–ø–∞–¥–∫—É —è –¥–æ–¥–∞–≤ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –Ω–∞ –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ —Ç–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—é –≤—Ö—ñ–¥–Ω–∏—Ö –¥–∞–Ω–∏—Ö –Ω–∞ —Å—Ç–æ—Ä–æ–Ω—ñ –±–µ–∫—É —á–µ—Ä–µ–∑ redis. –í–ø—Ä–∏–Ω—Ü–∏–ø—ñ –Ω–∞ —Ü—å–æ–º—É –≤—Å–µ, —Ä–µ—à—Ç—É –¥–æ–¥–∞–º –ø—Ä–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ —Ñ—Ä–æ–Ω—Ç—É

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

–í —Å–µ–∫—Ü—ñ—è—Ö –Ω–∏–∂—á–µ, –í–∞—Å —á–µ–∫–∞—î –ø–æ–≤–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –º–æ–≥–æ –∫–æ–¥—É
